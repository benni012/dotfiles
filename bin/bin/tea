#!/bin/sh

#rm /tmp/tea
#
#buf="  %{A:0:}x%{A}"
#for f in 3 4 7 8 10; do buf="$buf %{A:$f:}$f%{A}"; done
#
#(echo "$buf" | bar -B "#161719" -p | xargs -L 1 teatimer) &
#
#while [ ! -f /tmp/tea ]; do true; done
#
#pkill 'bar -B "#161719" -p'
#echo $?

buf="  %{A:exit:}x%{A}"
for f in 3 4 7 8 10; do buf="$buf %{A:(sleep $(( f * 60 )) && notify-send 'teatime!') & exit:}$f%{A}"; done

while :; do
	echo "$buf";
done | bar -B "#161719" | sh

#min=$(
#while :; do
#	buf="%{A:3:}3%{A} %{A:4:}4%{A} %{A:7:}7%{A} %{A:8:}8%{A} %{A:10:}10%{A} %{A:x:}x%{A}"
#	echo " $buf"
#done | bar -B "#161719" | (sed 1q; pkill -x 'bar -B "#161719"')
#)

#if [ $min = "x" ]; then
#	exit
#fi
#
#(sleep $(( min * 60 )) && notify-send "Tea's done!") & 
